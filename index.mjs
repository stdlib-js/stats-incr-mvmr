// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-positive-integer@esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-number@esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/math-base-assert-is-nan@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@esm/index.mjs";var s=r.isPrimitive,n=e.isPrimitive,f=i,a=t;var o=function(r,e){var i,t,o,m,l,d,u,h;if(!s(r))throw new TypeError(a("0eZ8T",r));if(t=new Array(r),u=r-1,m=0,h=-1,d=0,arguments.length>1){if(!n(e))throw new TypeError(a("0eZA8",e));return l=e,p}return l=0,N;function N(e){var s,n;if(0===arguments.length)return 0===d?null:1===d?f(m)?NaN:0/l:d<r?m/(d-1)/l:m/u/l;if(h=(h+1)%r,f(e))d=r,l=NaN,m=NaN;else{if(d<r)return t[h]=e,m+=(i=e-l)*(e-(l+=i/(d+=1))),1===d?0/l:m/(d-1)/l;if(1===d)return(m=0)/(l=e);if(f(t[h])){for(d=1,l=e,m=0,s=0;s<r;s++)if(s!==h){if(n=t[s],f(n)){d=r,l=NaN,m=NaN;break}m+=(i=n-l)*(n-(l+=i/(d+=1)))}}else!1===f(m)&&(o=t[h],m+=(i=e-o)*(o-l+(e-(l+=i/r))))}return t[h]=e,m/u/l}function p(e){var s;if(0===arguments.length)return 0===d?null:d<r?m/d/l:m/r/l;if(h=(h+1)%r,f(e))d=r,m=NaN;else{if(d<r)return t[h]=e,(m+=(i=e-l)*i)/(d+=1)/l;if(f(t[h])){for(m=0,s=0;s<r;s++)if(s!==h){if(f(t[s])){d=r,m=NaN;break}i=t[s]-l,m+=i*i}}else!1===f(m)&&(o=t[h],m+=(e-o)*(e-l+o-l))}return t[h]=e,m/r/l}};export{o as default};
//# sourceMappingURL=index.mjs.map
